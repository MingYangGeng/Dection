# Dection
1.Abstract
Apple flower detection and positioning is significant for mechanical and chemical thinning of flowers. Only one or two of the strongest flowers from one cluster are retained for thinning. The DPC algorithm was improved to achieve the discrimination of apple flower clusters and the detection of central and peripheral flowers were not well solved. The proposed algorithm was based on the YOLOv8n model to ensure the accuracy and reliability of the model to identify the central flowers in clusters. The model was trained and optimized to ensure efficient apple flower detection in natural scenarios. Furthermore, the Single-Layer DPC algorithm was improved for apple flower cluster discrimination, and the Double-Layer DPC algorithm was improved for apple central and peripheral flower detection. The performance of Single-Layer DPC algorithm was compared with Density Peaks Clustering (DPC), DPC with Shared Nearest Neighbors (DPC-SNN), K-means, K-medoids, Gaussian Mixture Model (GMM), Density-Based Spatial Clustering of Applications with Noise (DBSCAN), Spectral Clustering (SC) and Mini Batch K-means (minibatch) on three synthetic datasets. The Adjusted Mutual Information (AMI) and Adjusted Rand Index (ARI) of the proposed method were 0.7037 and 0.6043 on the Flame dataset, which were significantly higher than the highest values of the other eight clustering methods (0.5583 and 0.5116), respectively. The improved algorithm corrected the deviation between the clustering centres generated by the Single-Layer DPC algorithm and the true centres. The results showed that the proposed method could accurately discriminate apple flowers between different branches and clusters and detect of apple central and peripheral flowers.

2.What we do?
An automatic DPC algorithm based on YOLOv8 to detect apple flowers was presented in this article. Additionally, a precise discrimination model was devised to ascertain the specific flower cluster and central flower to which each individual flower belongs. This approach aimed to provide a reference for the detection of apple central and peripheral flowers, thereby promoting technical support for intelligent flower thinning.

3.Why we do?
Although significant progress has been made in flower identification, the real challenge in apple tree flower thinning is how to automatically generate a scientific and rational flower thinning strategy. Therefore, the new direction of deep learning in the field of apple flower thinning should be to move towards an intelligent and automated flower thinning strategy generation system. At present, although there are not a few research on the detection of flowers, the research on apple flower detection based on deep learning is still in the development stage. The main reason is that apple flowers are in a complex environment with light changes and large differences in growth conditions. The shape and color of apple flowers are diverse, the distribution is dense and compact, and there are often mutual occlusion between different flowers in the same flower cluster. Therefore, the detection of apple central flowers and peripheral flowers is particularly important. There are some studies on the detection of apple flowers, but most of them are for the detection of inflorescences or the detection of individual apple flowers.relatively few have focused on discriminating flower clusters and detecting central and peripheral flowers. To address the aforementioned issues, this study is to explore an efficient and accurate method for the detection of apple center flowers and peripheral flowers. The YOLOv8 algorithm has the advantages of fast speed, high accuracy and strong interpretability, and DPC has strong processing power advantages for noise and outliers, combine the advantages of the two, so as to achieve accurate and rapid detection of apple flowers and accurate discrimination of flower clusters. 

4. What we accomplished?
(1) A method for apple flowers recognition based on YOLOv8n model was proposed.
(2) An improved Single-Layer DPC algorithm was used to automatically determine different clusters.
(3) A Double-Layer DPC algorithm was applied to rectify any offsets of centres of clusters.
(4) The proposed method provided reference for mechanical and chemical thinning of flowers.
